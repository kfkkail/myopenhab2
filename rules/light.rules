var Timer preDawnTimer

rule "Turn Off Lights at Midnight for the Night"
when
  Time cron "0 0 0 ? * * *"
then
  logDebug("rules", "Midnight - Turn OFF Lights at Midnight")
  //sendCommand(OutdoorModule, OFF)
end

rule "Turn On/Off Lights at Dusk/Dawn"
when
  Time cron "0 0 2 ? * * *" or
  Item TriggerTimer changed to ON
then
  var DateTime daystart = new DateTime((Sunrise_Time.state as DateTimeType).calendar.timeInMillis)
  logDebug("rules","Sunrise_Time: "+Sunrise_Time.state)

  // Cancel Timers to avoid reschedule
  if(preDawnTimer!=null) {
    logDebug("rules", "Timer preDawnTimer Cancelled")
    preDawnTimer.cancel()
  }

  logDebug("rules","Create preDawnTimer")
  preDawnTimer = createTimer(daystart.minusMinutes(60)) [|
    logDebug("rules","preDawnTimer ended - Turn On Christmas Lights")
    //sendCommand(OutdoorModule, ON)
  ]
end